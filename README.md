# üçå Minion - iiko API Key Extension Tool

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è API –∫–ª—é—á–µ–π –≤ —Å–∏—Å—Ç–µ–º–µ iiko.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ iiko —á–µ—Ä–µ–∑ API
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö API –ª–æ–≥–∏–Ω–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª—é—á–µ–π –¥–æ –º–∞–∫—Å–∏–º—É–º–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤
- –£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–∞—Ç—É (—Å–µ–≥–æ–¥–Ω—è + N –ª–µ—Ç)

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

‚ö†Ô∏è **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ iiko**: –°–∏—Å—Ç–µ–º–∞ iiko –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –¥–∞—Ç—É –∏—Å—Ç–µ—á–µ–Ω–∏—è –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 1 –≥–æ–¥ –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã.

üß† **–£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞**: –ü—Ä–æ–≥—Ä–∞–º–º–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω—É—é –¥–∞—Ç—É** (—Å–µ–≥–æ–¥–Ω—è + extension_years), –∞ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –≥–æ–¥—ã –∫ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config.json`:
```json
{
  "extension_years": 1,
  "restaurants": [
    {
      "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞",
      "base_url": "https://your-restaurant.iikoweb.ru",
      "login": "–≤–∞—à-–ª–æ–≥–∏–Ω",
      "password": "–≤–∞—à-–ø–∞—Ä–æ–ª—å",
      "enabled": true
    }
  ]
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä `extension_years`** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–µ—Ç –æ—Ç —Å–µ–≥–æ–¥–Ω—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1).

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É:
```bash
go run main.go
```

–∏–ª–∏ —Å–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª:
```bash
go build -o minion main.go
./minion
```

## –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –î–ª—è –∫–∞–∂–¥–æ–≥–æ API –ª–æ–≥–∏–Ω–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è
2. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞: **—Å–µ–≥–æ–¥–Ω—è + extension_years**
3. –ï—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ –º–µ–Ω—å—à–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π ‚Üí –æ–±–Ω–æ–≤–ª—è–µ–º –¥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π
4. –ï—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ —É–∂–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏–ª–∏ –±–æ–ª—å—à–µ ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–µ–º

–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ –∫–ª—é—á–∏ –±—É–¥—É—Ç –∏–º–µ—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã–π —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è.

## API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- `POST /api/auth/login` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `GET /api/integration-management/api-logins/get-all` - –ø–æ–ª—É—á–µ–Ω–∏–µ API –ª–æ–≥–∏–Ω–æ–≤  
- `POST /api/integration-management/save-api-login` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ù–µ commit—å—Ç–µ —Ñ–∞–π–ª `config.json` —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ª–æ–≥–∏–Ω–∞–º–∏ –∏ –ø–∞—Ä–æ–ª—è–º–∏ –≤ –ø—É–±–ª–∏—á–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

üçå GELATO! Minion at your service!